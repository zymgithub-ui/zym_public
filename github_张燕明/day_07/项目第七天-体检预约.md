# 			项目第七天-体检预约

```
体检预约流程:
用户可以通过如下操作流程进行体检预约：
1、在移动端首页点击体检预约，页面跳转到套餐列表页面  

​```
异步请求,将所有套餐展示出来(并且给每个套餐加id)
​```

2、在套餐列表页面点击要预约的套餐，页面跳转到套餐详情页面  
	页面跳转时将套餐id取出,异步请求传给后台
	进行多表联查
	套餐 --<多对多>--检查组--<多对多>--检查项 
    用到resultMap 属性不是简单数据类型和javaBean用 collention 封装指定property和oftype,以及		select="" 
3、在套餐详情页面点击立即预约，页面跳转到预约页面	
	先是一个回显(根据套餐id,)
	点击立即预约->跳转
	录入体检人信息:
	包括手机号，身份证,
	以及选择的日期
        日历展示：
        使用BootStrap框架提供的DatePicker组件来展示日历，根据需求，只展示未来一个月的日期。
	

​```
点击发送验证码	阿里大鱼短信服务
后台代码：
1）使用ValidateCodeUtiles工具类中的生成验证码的方法，生成4位验证码；
2)使用SMSUtils工具类的发送验证码的方法，发送验证码；
验证码发送成功，将验证码保存到redis缓存中，并设置失效时间：
​```

4、在预约页面录入收到的手机短信验证码，点击提交预约，完成体检预约

​```
	1、检查用户所选择的预约日期是否已经提前进行了预约设置，如果没有设置	则无法进行预约
    2、检查用户所选择的预约日期是否已经约满，如果已经约满则无法预约
    3、检查当前用户是否为会员，如果是会员则直接完成预约，如果不是会员则	自动完成注册并进行预约
    4、检查用户是否重复预约（同一个用户在同一天预约了同一个套餐），如果	是重复预约则无法完成再次预约
    5、预约成功，更新当日的已预约人数
    6.给前台返回用户id
​```

5.预约成功之后
		跳转预约成功界面,需要带着用户id过去,
		成功界面拿着id进行异步请求
		获取到该用户预约信息进行回显
		    比如:预约用户:
				预约套餐:
				体检时间:
		
```

